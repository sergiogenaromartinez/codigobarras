<!DOCTYPE html>
<html>
<head>
    <title>Mocha</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>


<input class="input-credit-card" type="text" id="txtcreditcart" onfocusout="cambia()" />
<input class="input-phone" type="text" />
<input class="input-date" type="text" />
<input class="input-time" type="text" />
<input class="input-date-pattern" type="text" />
<input class="input-numeral" type="text" />
<input class="input-custom" type="text"/>

<script>
    //mocha.run();
		function cambia(){
			cc = document.getElementById("txtcreditcart").value;
		
			//var masked = Array(cc.replace(/[^\d]/g, "").length - 3).join("*") + cc.substr(cc.length - 4);
			
			console.log(cc_format(cc));
			
		}
		
		function cc_format(value) {
			var v = value.replace(/\s+/g, '').replace(/[^0-9]/gi, '')
			var matches = v.match(/\d{4,16}/g);
			var match = matches && matches[0] || ''
			var parts = []

			for (i=0, len=match.length; i<len; i+=4) {
				parts.push(match.substring(i, i+4))
			}

			if (parts.length) {
				return parts.join(' ')
			} else {
				return value
			}
		}

    
</script>
</body>
</html>
